*,
*::before,
*::after {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: #0b1020;
  color: #f5f5f5;
}

.page {
  min-height: 100vh;
  max-width: 1200px;
  margin: 0 auto;
  padding: 16px;
}

.topbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
  margin-bottom: 16px;
}

.topbar h1 {
  margin: 0;
  font-size: 1.6rem;
}

.subtitle {
  margin: 4px 0 0;
  font-size: 0.9rem;
  color: #a8b3cf;
}

.topbar-actions {
  display: flex;
  gap: 8px;
}

.layout {
  display: grid;
  grid-template-columns: minmax(0, 1.2fr) minmax(0, 1.8fr);
  gap: 16px;
}

.panel {
  background: #151a2e;
  border-radius: 12px;
  padding: 16px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
}

.panel-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.badge {
  display: inline-block;
  background: #222a46;
  border-radius: 999px;
  padding: 4px 10px;
  font-size: 0.8rem;
  color: #c7d2ff;
}

.btn {
  border: none;
  border-radius: 999px;
  padding: 8px 14px;
  font-size: 0.9rem;
  cursor: pointer;
  background: #222a46;
  color: #e2e8f0;
}

.btn.primary {
  background: #3b82f6;
  color: #1a1a1a;
}

.btn:hover {
  opacity: 0.9;
}

.form-row {
  display: flex;
  flex-direction: column;
  margin-bottom: 10px;
}

label {
  font-size: 0.85rem;
  margin-bottom: 4px;
  color: #cbd5f5;
}

input,
select,
textarea {
  border-radius: 8px;
  border: 1px solid #283250;
  padding: 8px 10px;
  font-size: 0.9rem;
  background: #0f172a;
  color: #e5e7eb;
}

input:focus,
select:focus,
textarea:focus {
  outline: 2px solid #3b82f6;
  outline-offset: 1px;
}

.hint {
  font-size: 0.75rem;
  color: #9ca3af;
}

.form-actions {
  display: flex;
  gap: 8px;
  margin-top: 8px;
}

.form-error {
  margin-top: 8px;
  font-size: 0.85rem;
  color: #fecaca;
}

.empty-state {
  font-size: 0.9rem;
  color: #9ca3af;
}

/* ---- Spel-lista (index) ---- */
.game-list {
  list-style: none;
  padding: 0;
  margin: 12px 0 0;
}

/* Nya sektioner: Aktiva / Avslutade */
.games-split { margin-top: 10px; }
.games-section-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  margin: 6px 0 10px;
}
.games-section-title{
  font-size: 14px;
  margin:0;
  opacity:.95;
  letter-spacing: .2px;
}
.games-section-actions{
  display:flex;
  align-items:center;
  gap:10px;
}

.count-pill{
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 12px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
}
.count-pill.muted{ opacity:.7; }

.games-grid{
  display:flex;
  flex-direction:column;
  gap:10px;
}

/* Kort */
.game-card{
  position:relative;
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap: 12px;
  padding: 12px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.14);
  overflow:hidden;

  /* Default om ok√§nd typ */
  --typeColor: #334155;

  /* HELA bakgrunden = f√§rgen, med m√∂rk overlay f√∂r l√§sbarhet */
  background: linear-gradient(0deg, rgba(0,0,0,.55), rgba(0,0,0,.55)), var(--typeColor);
  box-shadow: 0 10px 30px rgba(0,0,0,.18);
  transition: transform .12s ease, border-color .12s ease;
}

.game-card:hover{
  border-color: rgba(255,255,255,.22);
  transform: translateY(-1px);
}

/* Dina f√§rger */
.game-card[data-type="V85"]{ --typeColor:#004f9f; }
.game-card[data-type="V64"]{ --typeColor:#ed6c15; }
.game-card[data-type="V65"]{ --typeColor:#c00a26; }
.game-card[data-type="V86"]{ --typeColor:#802c7e; }
.game-card[data-type="GS75"]{ --typeColor:#15614e; }

.games-grid.archived .game-card{
  opacity: .82;
}

.game-main { flex: 1; min-width: 0; }

.game-title{
  font-size: 1rem;
  margin: 0 0 6px;
}

.game-meta{
  font-size: 0.8rem;
  color: rgba(255,255,255,.80);
}
.game-meta span + span::before{
  content: " ‚Ä¢ ";
  margin: 0 4px;
  opacity:.8;
}

.type-badge{
  display:inline-flex;
  align-items:center;
  gap: 8px;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 800;
  background: rgba(255,255,255,.14);
  color:#fff;
  border: 1px solid rgba(255,255,255,.20);
}

.game-actions{
  display:flex;
  flex-direction:column;
  gap: 6px;
}

.game-actions .btn{
  font-size: .8rem;
  padding: 6px 10px;
}

.game-actions .btn.danger{
  background: #dc2626;
  color: #fff;
}
@media (max-width: 800px) {
  .layout {
    grid-template-columns: 1fr;
  }
}
/* ---- √ñverblick-layout ---- */

.overview-topbar {
  align-items: center;
}

.topbar-center {
  flex: 1;
  text-align: center;
}

.topbar-right {
  min-width: 80px;
  text-align: right;
}

.overview-layout {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* Slider-header */

.division-header {
  display: flex;
  flex-direction: column;   /* üîπ stapla allt vertikalt */
  align-items: stretch;     /* üîπ full bredd */
  gap: 8px;
  padding: 12px 16px;
  background: #151a2e;
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.35);
}


.division-info {
  flex: 1;
  text-align: center;
}

.division-label {
  font-size: 0.95rem;
  margin-bottom: 6px;
}

.division-total {
  color: #9ca3af;
}

.division-range {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 0.8rem;
  color: #9ca3af;
}

.division-track {
  flex: 1;
  height: 4px;
  border-radius: 999px;
  background: #1f2937;
  overflow: hidden;
}

.division-progress {
  height: 100%;
  width: 0%;
  background: #3b82f6;
  transition: width 0.25s ease;
}

.division-end {
  min-width: 16px;
  text-align: center;
}

.btn.ghost {
  background: transparent;
  border: 1px solid #283250;
}

/* Stora blocket (popul√§r / center / id√©) */

.big-block {
  display: grid;
  grid-template-columns: 60px minmax(0, 1fr) 60px; /* v√§nster 60px, mitten flex, h√∂ger 60px */
  gap: 12px;
  align-items: flex-start;
}

/*
.side-block,
.center-block {
  background: #151a2e;
  border-radius: 12px;
  padding: 12px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
} */

.side-block {
    /* background: #151a2e; */
    border-radius: 12px;
    padding: 8px 4px;
    /* box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35); */
    max-width: 60px;
}

/* D√∂lj texten i sidoblockens rubriker, men beh√•ll h√∂jd/marginaler
   s√• att v√§nster/h√∂ger kolumn ligger i linje med mittenblocket */
.side-block h2 {
  color: transparent;    /* g√∂r texten osynlig */
  text-shadow: none;
  user-select: none;     /* g√•r inte markera texten */
}

.placeholder-text {
  font-size: 0.8rem;
  color: #9ca3af;
}

/* H√§sttabell i mittenblocket */

.horse-table-wrapper {
  margin-top: 8px;
  overflow-x: auto;
  /* max-width: 460px; */
  margin-left: auto;
  margin-right: auto;
}

.horse-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.8rem;
}

.horse-table thead {
  background: #111827;
}

.horse-table th,
.horse-table td {
  padding: 6px 8px;
  border-bottom: 1px solid #1f2937;
  text-align: left;
  white-space: nowrap;
}

.horse-table th:first-child,
.horse-table td:first-child {
  text-align: left;
  width: 32px;
}

.horse-table tbody tr:nth-child(even) {
  background: #044744;
}

.horse-table tbody tr:hover {
  background: #055f5b;
}

/* üîπ Favorit i loppet ‚Äì rad i h√§sttabellen */
.horse-table tbody tr.horse-row-favourite {
    background: rgba(255, 216, 74, .95);
    color: #1a1a1a;
}

.horse-table tbody tr.scratched {
    opacity: 0.55;
    text-decoration: line-through;
    background: #404E4D;
}
/* St√∂rre text i √∂vriga f√§lt (t.ex. V85%, TREND%, osv) */
.horse-table tbody td {
    font-size: 15px;
}

/* Header i h√§sttabellen ‚Äì lite st√∂rre, v√§nsterjusterad, n√§stan "g√∂md" */
.horse-table thead th {
    font-size: 18px;                          /* lite st√∂rre */
    text-align: left;                         /* v√§nsterjusterad */
    color: rgba(229, 231, 235, 0.353);         /* n√§stan osynlig p√• m√∂rk bakgrund */
    font-weight: 500;
}




/* Mobilanpassning */

@media (max-width: 900px) {
  /* ... din befintliga mobil-CSS ... */

  /* Ingen horisontell scroll i mittenblocket p√• mobil */
  .horse-table-wrapper {
    overflow-x: hidden;
  }

  /* I detalj-l√§ge p√• mobil d√∂ljer vi tabellhuvud + extra kolumner.
     All extra-info visas i .horse-extra ist√§llet. */
  .horse-table.mobile-detailed thead {
    display: none;
  }

  .horse-table.mobile-detailed th:nth-child(n + 2),
  .horse-table.mobile-detailed td:nth-child(n + 2) {
    display: none;
  }

  /* Raden blir "vikbar" */
  .horse-table tr.mobile-collapsible-row {
    cursor: pointer;
  }

  .horse-extra {
    display: none;
    margin-top: 4px;
    font-size: 0.75rem;
    color: #9ca3af;
  }

  .horse-extra-item {
    display: flex;
    justify-content: space-between;
    gap: 4px;
  }

  /* N√§r raden √§r expanderad visar vi extra-info */
  .horse-table tr.mobile-collapsible-row.expanded .horse-extra {
    display: block;
  }
}

/* üîπ Mobil-layout f√∂r total + pris + rubrik */
@media (max-width: 900px) {

  /* G√∂r headern staplad i st√§llet f√∂r i rad */
  .division-header {
    flex-direction: column;
    align-items: stretch;
    padding: 10px 10px;
  }

  /* Avdelningsrutorna centrerade och f√•r ta hela bredden */
  .division-number-row {
    justify-content: center;
     gap: 4px;
  }



  /* Pris p√• egen rad under rutorna */
  .price-info {
    margin-top: 6px;
    text-align: center;
  }

  /* Stake-panel (V85) lite n√§rmare priset */
  .stake-panel {
    margin-top: 4px;
  }

  /* G√∂m "H√§star i avdelning ..." rubriken p√• mobil */
  .center-block h2 {
    display: none;
  }

  /* Dra upp h√§sttabellen lite n√§rmare headern */
  .horse-table-wrapper {
    margin-top: 4px;
  }
}


@media (max-width: 900px) {
  .big-block {
    grid-template-columns: 60px minmax(0, 1fr) 60px;
  }

  .topbar-center {
    text-align: left;
  }

  .side-block {
    max-width: 60px;
  }

  /* üîπ Mobil: rubriken "H√§star i avdelning 1 : 2140 meter" */
  .division-label {
    font-size: 13px;
  }

  .center-block h2{
    font-size: 13px;
  }
}


/* ---- "Totalen" ovanf√∂r slider ---- */

.division-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    padding: 12px 0px;
    background: #151a2e;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.35);
}

.division-header-title {
  font-size: 0.85rem;
  color: #9ca3af;
}

.division-number-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;  /* üîπ centrerar rutorna √∂ver hela bredden */
  gap: 4px;
}

.division-square {
    width: 38px;
    height: 38px;
    border-radius: 8px;
    border: 1px solid #374151;
    background: #f2c41b;
    color: #0b1020;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    font-weight: bold;
    cursor: pointer;
}

.division-square.active {
  background: #3b82f6;
  border-color: #60a5fa;
  color: #1a1a1a;
}

/* ---- Nummerkolumner i v√§nster/h√∂gerblock ---- */

.number-column {
    display: flex;
    flex-direction: column;
    gap: 0px;
    margin-top: 0; /* JS s√§tter exakt samma som tabellhuvudet */
}

.num-square {
    min-height: 40px;           /* grundh√∂jd om JS inte hunnit r√§kna */
    box-sizing: border-box;     /* viktigt: annars adderar border extra h√∂jd och sista raderna driftar */
    border-radius: 6px;
    border: 1px solid #374151;
    background: #020617;
    color: #e5e7eb;
    font-size: 1.75rem;         /* din st√∂rre siffra */
    display: flex;
    align-items: center;
    justify-content: center;
     position: relative;   /* üîπ ny rad */
      z-index: 1; /* s√• pseudo-elementet kan ligga bakom siffran */
}
/*


/* strukna h√§star ‚Äì g√∂r numret lite ljusare/gr√•are */
.num-square.scratched {
  opacity: 0.2;
}

/* h√∂gerkolumn ‚Äì klickbar */
.num-square.clickable {
  cursor: pointer;
}

/* markerad id√©-h√§st */
.num-square.clickable.selected {
    background: #02A9EA;
    border-color: #0b1020;
    color: #1a1a1a;
}

.horse-table tbody tr {

    min-height: 71px; /* samma niv√• som du gillar p√• rutorna */
    background: #044744;
    color: #1a1a1a;
}
/* ---- Totalen: fyrkant + r√§knare under ---- */



.division-square-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
}

.division-square-count {
  font-size: 0.7rem;
  color: #e5e7eb;
  min-height: 0.9em; /* s√• att det inte hoppar */
}

.list-mode-toggle {
  display: flex;
  justify-content: center;
  gap: 6px;
  margin-top: 10px;      /* üîπ ny rad */
  margin-bottom: 6px;
}



.center-block h2 {
  text-align: center;
}

.price-info {
  margin-top: 6px;
  font-size: 0.8rem;
  color: #e5e7eb;
  text-align: center;   /* centrera priset */
}

.price-info-main {
  font-weight: 500;
}

.price-info-sub {
  font-size: 0.75rem;
  color: #9ca3af;
}


/* ---- V85: insatsniv√•-panel ---- */

.stake-panel {
  margin-top: 6px;
  font-size: 0.8rem;
  text-align: center;
}

.stake-title {
  color: #9ca3af;
  margin-bottom: 4px;
}

.stake-options {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 6px;
}

.stake-option {
  line-height: 1.2;
  min-width: 80px;
}

.stake-option .stake-sub {
  font-size: 0.7rem;
  color: #cbd5f5;
}

/* markerad insats */
.stake-option.active {
  background: #2563eb;
  border-color: #60a5fa;
}



.horse-name {
    font-weight: 600;
    font-size: 1.1rem;
    line-height: 1.2;
}

/* H√§stnamn + ikoner p√• samma rad */
.horse-name-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.horse-icon-bar-name {
  flex: 0 0 auto;
  margin-left: 8px;
}

/* Liten indikator i listan n√§r stallsnack/intervju finns */
.horse-snack-indicator {
  flex: 0 0 auto;
  margin-left: 8px;
  font-size: 0.9rem;
  opacity: 0.85;
  line-height: 1;
  user-select: none;
}
.horse-snack-indicator:hover {
  opacity: 1;
}

/* Header i detaljpanelen */
.horse-details-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  padding: 8px 10px 0;
  box-sizing: border-box;
}

.horse-details-title {
  font-weight: 700;
  font-size: 0.95rem;
  line-height: 1.2;
}

.horse-icon-bar-details {
  flex: 0 0 auto;
}

.horse-driver {
    font-size: 0.7rem;
    color: #9ca3af;
    line-height: 1.7;
}

.horse-name,
.horse-driver {
    text-align: left;
}


/* ---- Kupong-sektion ---- */

.coupon-section {
  margin-top: 16px;
  background: #020617;
  border-radius: 12px;
  padding: 12px 16px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
}

.coupon-section > h2 {
  font-size: 1rem;
  margin: 0 0 8px;
}

.coupon-hint {
  font-size: 0.75rem;
  color: #9ca3af;
  margin: 0 0 6px;
}

.coupon-add-panel {
    border-radius: 8px;
    background: #020617;
    padding: 8px 10px 10px;
    border: 1px solid #1f2937;
    margin-bottom: 10px;
    height: 100%;
}




/* Mobil-layout f√∂r omv√§nd-kupong-panelen */
@media (max-width: 900px) {
    #reverse-panel {
        position: fixed;
        top: 72px;
        left: 8px;
        right: 8px;
        width: 242px;
        max-width: none;
        margin: 0 auto;
        z-index: 1500;
        border: 2px solid #cacaca;
        background: #051130;
    }
}


/* N√§r panelen √§r √∂ppen */
.reverse-panel.open {
  transform: translateX(0);
  opacity: 1;
  pointer-events: auto;
}


.coupon-builder {
    display: flex;
    flex-direction: column;
    gap: 6px;
    /* max-height: 600px; */
    overflow-y: auto;
    padding-right: 4px;
}

.coupon-division-row {
 
  align-items: center;
  gap: 6px;
}

.coupon-division-label {
    /* width: 31%; */
    font-size: 0.8rem;
    color: #e5e7eb;
    padding: 13px 0px 10px 0px;
    font-size: 16px;
}

.coupon-number-row {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
    padding-bottom: 18px;
    border-bottom: 1px solid #cacaca;
}

.coupon-number {
    width: 50px;
    height: 50px;
    border-radius: 6px;
    border: 1px solid #374151;
    background: #020617;
    color: #e5e7eb;
    font-size: 0.8rem;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

.coupon-number.selected {
  background: #3b82f6;
  border-color: #60a5fa;
  color: #1a1a1a;
}

.coupon-add-actions {
  display: flex;
  justify-content: flex-end;
  gap: 6px;
  margin-top: 6px;
}

.coupon-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 6px;
  align-items: flex-start;
}

/* Kupongkort liknande ATG-kvittot (enkel version) */

.coupon-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 6px;
  align-items: flex-start;
}

.coupon-card {
    background: #030712;
    border-radius: 10px;
    padding: 8px 10px;
    border: 1px solid #1f2937;
    width: 215px;
    position: relative;
    box-sizing: border-box;
} 
/* "Min kupong" ‚Äì sparad fr√•n Id√©f√§ltet */
.coupon-card.my-coupon-card {
    background: #002d5d;
    border-color: #02a9ea;
}

/* Split-kuponger (skapade via "Split kupong") */
.coupon-card.split-coupon-card {
  border-radius: 10px;
  padding: 8px 10px;
  border: 1px solid #ffffff;
  width: 215px;
  box-sizing: border-box;
  background: #42313b;
}


/* Omv√§nd kupong ‚Äì annan bakgrundsf√§rg */
/* Omv√§nd kupong ‚Äì egen f√§rg */
.coupon-card.reverse-coupon-card {
  background: #392d00;
  border-radius: 10px;
  padding: 8px 10px;
  border: 1px solid #b38d00;
  width: 215px;
  box-sizing: border-box;
}

/* Jackpot-kuponger */
.coupon-card.jackpot-coupon-card {
  background: #240d2c;
}

/* Fyllda kuponger ("Fyll p√•") */
.coupon-card.filled-coupon-card {
  background: #391022;
}



.coupon-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 4px;
}

.coupon-card-title {
  font-size: 0.85rem;
  font-weight: 600;
}

.coupon-card-sub {
  font-size: 0.7rem;
  color: #9ca3af;
}

.coupon-card-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 4px;
  font-size: 0.8rem;
}

.coupon-card-table th,
.coupon-card-table td {
  padding: 2px 4px;
}

.coupon-card-table th {
  font-weight: 500;
  color: #9ca3af;
}

.coupon-card-table td {
  color: #e5e7eb;
}

.coupon-card-table tr + tr td {
  border-top: 1px solid #111827;
}

/* Kuponger som g√•r att klicka p√• i omv√§nd-l√§ge */
.coupon-card.selectable {
  cursor: pointer;
}

/* Den kupong vi markerat f√∂r omv√§nd kupong */
.coupon-card.selected-for-reverse {
  box-shadow: 0 0 0 2px #fbbf24;
}


.btn.small {
  padding: 3px 6px;
  font-size: 0.7rem;
}

.btn.tiny {
  padding: 2px 6px;
  font-size: 0.7rem;
}

.btn.danger {
  border-color: #b91c1c;
  color: #fecaca;
}

.coupon-section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* Kupong-header actions */
.coupon-card-actions {
  display: flex;
  gap: 6px;
  align-items: center;
}

/* Fast bredd p√• "Ta bort" (bara den r√∂da) */
.coupon-card-actions .btn.tiny.danger {
  width: 51px;
}

/* Visa att man redigerar en kupong */
#btn-save-idea-coupon.editing {
  box-shadow: 0 0 0 2px rgba(0, 255, 136, 0.25);
}


/* mest spelade h√§sten i aktuell avdelning */
.num-square.popular-most {
    /* box-shadow: 0 0 0 2px #d35f10; */
    border-color: #000000;
    background: #f3ef44;
    color: #000000;
}


/* s√§kerst√§ll att rutan √§r relativ s√• vi kan l√§gga overlay inuti */
.num-square {
    position: relative;
}

/* lager f√∂r stj√§rnramen */
.star-frame {
    position: absolute;
    inset: 4px;
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    grid-template-rows: repeat(5, 1fr);
    pointer-events: none;
    z-index: 0;
    margin-top: -4px;
    margin-left: 0px;
}

/* en enskild stj√§rna */
.star-cell {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    line-height: 1;
    color: #bd5000;
}




/* H√§st som inte finns med p√• en enda kupong */
.num-square.not-played {
    background: #F21B3F;
    border-color: #0b1020;
    color: #1a1a1a;
    /* opacity: 0.9; */
}



.coupon-section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* wrapper f√∂r alla knappar */
.coupon-header-actions {
  display: flex;
  align-items: center;
  gap: 16px;          /* lite st√∂rre luft mellan grupperna */
  width: 100%;
}

/* grupp: Id√©f√§lts-knappar */
.coupon-idea-actions {
  display: flex;
  gap: 8px;
}

/* grupp: Ny kupong ‚Äì ligger lite mer f√∂r sig sj√§lv */
.coupon-new-actions {
  margin-left: auto; /* puttar den till h√∂ger */
}

.coupon-price {
  margin-top: 8px;
  font-size: 0.8rem;
}

.coupon-price-main {
  font-weight: 600;
  color: #e5e7eb;
}

.coupon-price-sub {
  color: #9ca3af;
}

/* Bonus: ge lite annan ton f√∂r "Min kupong" om du vill */
.coupon-card.my-coupon-card .coupon-price-main {
  color: #bbf7d0;
}
/* Ban-panel */

#track-panel {
  margin-top: 24px;
}

.track-list-wrapper {
  margin-top: 16px;
}

.track-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.track-list-item {
  padding: 8px 10px;
  border-radius: 8px;
  background: #020617;
  border: 1px solid #1f2937;
  font-size: 0.9rem;
}

.track-list-item-title {
  font-weight: 600;
}

.track-list-item-meta {
  font-size: 0.8rem;
  color: #9ca3af;
}

.track-info-section {
  margin-top: 24px;
}

.track-info-box {
  margin-top: 8px;
  padding: 12px 14px;
  border-radius: 12px;
  background: #020617;
  border: 1px solid #1f2937;
  max-width: 480px;
}

.track-info-title {
  font-weight: 600;
  margin-bottom: 6px;
  color: #e5e7eb;
}

.track-info-text {
  color: #e5e7eb;
  font-size: 0.9rem;
}

.track-info-list {
  list-style: none;
  padding: 0;
  margin: 0;
  font-size: 0.85rem;
}

.track-info-list li {
  display: flex;
  justify-content: space-between;
  gap: 8px;
  color: #9ca3af;
}

.track-info-list li span:first-child {
  font-weight: 500;
}
.track-weather-box {
  margin-top: 12px;
  padding: 10px 12px;
  border-radius: 10px;
  background: #020617;
  border: 1px dashed #1f2937;
  max-width: 480px;
  font-size: 0.85rem;
}

.track-weather-title {
  font-weight: 600;
  margin-bottom: 4px;
  color: #e5e7eb;
}

.track-weather-status {
  color: #9ca3af;
}

.track-weather-current {
  margin-bottom: 4px;
  color: #e5e7eb;
}

.track-weather-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.track-weather-list li {
  color: #9ca3af;
}
.track-list-item-actions {
  margin-top: 6px;
  display: flex;
  gap: 6px;
}


/* Mobilvy ‚Äì visa kuponger tv√• och tv√• */
@media (max-width: 700px) {
  .coupon-list {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 8px;
  }

  .coupon-card {
    width: 100%;   /* fyller sin gridkolumn */
  }
}


/* ---- Filterblocket (mellan h√§stinfo och kuponger) ---- */

.filter-section {
  margin-top: 10px;
  margin-bottom: 10px;
}

.filter-block {
  background: #020617;
  border-radius: 10px;
  border: 1px solid #1f2937;
  padding: 6px 10px;
}

.filter-block-inner {
  display: flex;
  justify-content: center;
}

/* vi anv√§nder befintlig .list-mode-toggle men tweakar lite */
.list-mode-toggle {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin: 0;              /* ingen extra margin h√§r nu */
}

@media (max-width: 900px) {
  .filter-block {
    padding: 6px;
  }

  .list-mode-toggle {
    flex-wrap: wrap;
    gap: 6px;
  }
}

/* ---- Filter / Ikon-l√§ge ---- */

.icon-legend {
  margin-top: 6px;
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  justify-content: center;
  font-size: 12px;
}

.icon-legend.hidden {
  display: none;
}

.icon-legend-item {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 3px 8px;
    border-radius: 999px;
    border: 1px solid #374151;
    background: #074830;
    cursor: pointer;
    font-size: 12px;
    color: burlywood;
}


.icon-legend-item.off {
  opacity: 0.45;
}

.icon-legend-item .icon-symbol {
  font-size: 15px;
}

/* Ikoner i procent-f√§ltet */
.horse-icon-bar {
  margin-left: 4px;
  display: inline-flex;
  gap: 2px;
  vertical-align: middle;
}

.horse-icon {
  font-size: 0.8rem;
}


/* --- Kupongsektionen: header + kuponger under --- */

.coupon-section {
  margin-top: 16px;
  background: #020617;
  border-radius: 12px;
  padding: 12px 16px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
  position: relative;
}

/* Rad med "Kuponger" + alla knappar */
.coupon-section-header {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: flex-start;
  gap: 12px;
  margin-bottom: 10px;   /* luft ner till kupongerna */
}

.coupon-section-header h2 {
  margin: 0;
}

/* wrappern f√∂r knapparna */
.coupon-header-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

/* kuponglistan ligger alltid under headern */
.coupon-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 0;
}

/* N√§r Omv√§nd kupong-l√§ge √§r aktivt: markera hela kupongrutan */
body.reverse-mode-active .coupon-section {
  box-shadow:
    0 0 0 2px #fbbf24,          /* gul ram runt sektionen */
    0 10px 30px rgba(0, 0, 0, 0.35);
}

/* g√∂r kupongkorten tydligt klickbara i omv√§nd-l√§ge */
body.reverse-mode-active .coupon-card {
  cursor: pointer;
}

/* redan markerad kupong (n√§r man valt en) ‚Äì beh√•ll g√§rna denna om du inte redan har den */
.coupon-card.selected-for-reverse {
  box-shadow: 0 0 0 2px #fbbf24;
}


/* Omv√§nd kupong-popup ‚Äì desktop */
@media (min-width: 901px) {
  #reverse-panel {
    position: absolute;
    top: 86px;
    left: 230px;
    background: #252525;
    border: 6px solid #ffffff;
    border-radius: 10px;
    padding: 16px;
    z-index: 200;
  }
}


@media (max-width: 901px) {
.number-column {
    display: flex;
    flex-direction: column;
    gap: 0px;
   
    margin-top: 32px;
}
}
/* Markerar superskr√§ll i kupong-√∂versikten */
.superskrall-number {
  border-bottom: 2px solid #fbbf24; /* gul linje under siffran */
  padding-bottom: 1px;
}


/* Favorit i loppet (h√∂gst V%-h√§st) i kupong-√∂versikten */
/*.favourite-number {
    padding: 0 3px;
    border-radius: 4px;
    border: 1px solid #fbbf24;
    background: #fbbf24;
      color: #000000;
    box-shadow: 0 0 0 1px #111827;
}*/

.favourite-number-coupon {
    padding: 0 3px;
    border-radius: 4px;
    border: 1px solid #fbbf24;
    background: #fbbf24;
      color: #000000;
    box-shadow: 0 0 0 1px #111827;
}

/* Andrahandsfavorit (n√§st h√∂gst V%) p√• kuponger */
.second-favourite-number {
    color: #ff00dd;
}


.slider-value {
  margin-top: 4px;
  font-size: 0.8rem;
  color: #e5e7eb;
}


/* Inaktiva kuponger */
.coupon-card.is-inactive {
  opacity: 0.35;
  filter: grayscale(0.4) saturate(0.7);
}

/* Toggle-knapp nere p√• kortet */
.coupon-toggle-active {
  margin-top: 8px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid #283250;
  background: rgba(255,255,255,0.04);
  color: #e5e7eb;
  cursor: pointer;
  font-size: 12px;
}

.coupon-toggle-active:hover {
  background: rgba(255,255,255,0.07);
}

/* Inaktiv kupong */
.coupon-card.inactive {
  opacity: 0.35;
  filter: grayscale(0.6);
}

/* Toggle-knapp nere p√• kupongen */
.coupon-card-footer {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 10px;
}

.btn-toggle-active {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}



/* Inaktiva kuponger */
.coupon-card.inactive {
  opacity: 0.35;
  filter: grayscale(35%);
}

/* Valfritt: g√∂r toggle-knappen tydligare */
.btn-toggle-active .dot {
  display: inline-block;
  width: 8px;
  height: 8px;
  border-radius: 999px;
  margin-right: 6px;
  background: #22c55e; /* gr√∂n */
}

.coupon-card.inactive .btn-toggle-active .dot {
  background: #ef4444; /* r√∂d */
}

/* ---- Fyll p√• kupong panel ---- */

#fill-panel {
  position: fixed;
  top: 86px;
  left: 12px;
  width: 320px;
  max-width: min(360px, calc(100vw - 24px));
  height: auto;
  max-height: calc(100vh - 140px);
  overflow: auto;
  background: #252525;
  border: 6px solid #ffffff;
  border-radius: 10px;
  padding: 16px;
  z-index: 2000;
}

/* Mobil: dela vyn 50/50 ‚Äì kuponger uppe, formul√§r nere */
@media (max-width: 900px) {
  #fill-panel {
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    top: auto;
    width: 100%;
    max-width: 100%;
    height: 50vh;
    max-height: 50vh;
    padding: 14px;
    border-radius: 18px 18px 0 0;
    border: 2px solid #cacaca;
    background: #051130;
    z-index: 2000;
  }

  body.fill-mode-active {
    padding-bottom: 52vh;
  }
}

/* Markering n√§r ‚Äúv√§lj kupong‚Äù √§r aktivt */
body.fill-mode-active .coupon-card.selectable {
  cursor: pointer;
}

@keyframes pulseBorder {
  0% { opacity: 0.35; }
  50% { opacity: 1; }
  100% { opacity: 0.35; }
}

body.fill-mode-active .coupon-card.selectable::after {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: 12px;
  border: 2px solid rgba(96,165,250,0.85);
  animation: pulseBorder 1.1s ease-in-out infinite;
  pointer-events: none;
}

.coupon-card.selected-for-fill {
  box-shadow: 0 0 0 2px #60a5fa;
}

.coupon-card.selected-for-fill::after {
  animation: none;
  border-color: rgba(0,255,160,0.95);
}

/* Flytande knapp f√∂r att l√§mna "Fyll p√•"-l√§ge */
#fill-exit-floating {
  position: fixed;
  right: 16px;
  bottom: 16px;
  z-index: 2500;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.25);
  background: rgba(17,24,39,0.92);
  color: #fff;
  font-weight: 700;
  box-shadow: 0 10px 30px rgba(0,0,0,0.55);
}
#fill-exit-floating:hover { filter: brightness(1.05); }

/* G√∂r HTML-attributet hidden robust */
[hidden] { display: none !important; }
.horse-num.winner {
  outline: 2px solid #00ff88;
  box-shadow: 0 0 0 2px rgba(0,255,136,0.25);
}

.winner-row {
  background: rgba(0, 255, 136, 0.10) !important;
}


/* --- Kupongstatus: grupper + skaparl√§ge --- */
.coupon-status-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 10px 12px;
  margin: 10px 0 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.04);
}

.coupon-status-bar-label {
  font-weight: 600;
  opacity: 0.9;
}

.coupon-status-select {
  max-width: 180px;
}

.coupon-list {
  display: block;
}

.coupon-group-title {
  margin: 14px 0 8px;
  font-weight: 800;
  letter-spacing: 0.2px;
  opacity: 0.95;
}

.coupon-group {
  display: grid;
  grid-template-columns: repeat(5, minmax(0, 1fr));
  gap: 12px;
}

.coupon-group .coupon-card {
  width: 100%;
}

/* V√§ntel√§ge: l√§tt toning, men inte lika "d√∂d" som inaktiv */
.coupon-card.waiting {
  opacity: 0.92;
}

/* Inaktiv: mer tonad */
.coupon-card.inactive {
  opacity: 0.55;
  filter: grayscale(0.25);
}

.coupon-state-switch {
  display: inline-flex;
  gap: 6px;
}

.coupon-state-btn {
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.06);
}

.coupon-state-btn.on {
  border-color: rgba(0, 255, 136, 0.55);
  background: rgba(0, 255, 136, 0.12);
}

.coupon-state-btn.on[data-state="active"] {
  border-color: #00ff88;
  background: #00ff88;
  color: #06110b;
  padding: 2px 8px;
}

.coupon-state-btn.on[data-state="waiting"] {
  border-color: rgba(255, 200, 0, 0.65);
  background: rgba(255, 200, 0, 0.14);
  color: #fff7d1;
}

.coupon-state-btn.on[data-state="inactive"] {
  border-color: rgba(255, 255, 255, 0.22);
  background: rgba(255, 255, 255, 0.10);
  color: rgba(255,255,255,0.92);
}


/* Responsiv kuponggrid */
@media (max-width: 1400px) {
  .coupon-group { grid-template-columns: repeat(4, minmax(0, 1fr)); }
}
@media (max-width: 1100px) {
  .coupon-group { grid-template-columns: repeat(3, minmax(0, 1fr)); }
}
@media (max-width: 820px) {
  .coupon-group { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 520px) {
  /* Mobil: 2 kuponger per rad */
  .coupon-group { grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 8px; }

  /* Kompaktare kort s√• tv√• per rad funkar b√§ttre */
  .coupon-card { padding: 10px; }
  .coupon-card-title { font-size: 14px; }
  .coupon-card-sub { font-size: 11px; }

  .coupon-card-table th,
  .coupon-card-table td { font-size: 12px; padding: 6px 6px; }

  .coupon-price-main { font-size: 12px; }
  .coupon-price-sub { font-size: 11px; }
  .coupon-card, .coupon-card.imported-atg { width: 100%; }
}


/* =======================
   Kupong UI ‚Äì importerade + kompakt mobil
   ======================= */

/* Importerade ATG-kuponger */
.coupon-card.imported-atg {
  background: #0d2b39;
  border-radius: 10px;
  padding: 8px 10px;
  border: 1px solid #4088a9;
  width: 215px;
  box-sizing: border-box;
}

/* Ikonknappar i kupongheader */
.coupon-card-actions .icon-btn {
  width: 30px;
  height: 30px;
  min-width: 30px;
  padding: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 10px;
  font-size: 16px;
  line-height: 1;
}

/* Status: runda cirklar (+, ?, -) */
.coupon-state-btn.coupon-state-dot {
  width: 28px;
  height: 28px;
  min-width: 28px;
  padding: 0;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 900;
  font-size: 14px;
}

/* Vald status */
.coupon-state-btn.coupon-state-dot.on[data-state="active"] {
  background: #00ff88;
  border-color: #00ff88;
  color: #06110b;
}
.coupon-state-btn.coupon-state-dot.on[data-state="waiting"] {
  background: rgba(255, 200, 0, 0.18);
  border-color: rgba(255, 200, 0, 0.70);
  color: #fff7d1;
}
.coupon-state-btn.coupon-state-dot.on[data-state="inactive"] {
  background: rgba(255, 255, 255, 0.10);
  border-color: rgba(255, 255, 255, 0.22);
  color: rgba(255,255,255,0.92);
}

/* Smalare Avd-kolumn */
.coupon-card-table th:first-child,
.coupon-card-table td:first-child {
  width: 34px;
  padding-left: 2px;
  padding-right: 2px;
}

/* Skapad-rad under pris */
.coupon-created-at {
  margin-top: 4px;
  font-size: 11px;
  color: rgba(255,255,255,0.70);
}

/* Mindre sidopadding p√• mobil s√• kuponger f√•r mer bredd */
@media (max-width: 520px) {
  .page { padding: 10px; }
  .panel { padding: 12px; }
}

/* =======================
   Vinnare-block
   ======================= */
.winner-summary {
  margin: 10px 0 14px;
}

.winner-summary-inner {
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
  border-radius: 14px;
  padding: 12px;
}

.winner-summary-title {
  font-weight: 800;
  margin-bottom: 8px;
}

.winner-summary-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.winner-chip {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(0,0,0,0.18);
  font-size: 12px;
}


/* Vinnare p√• kupong: gr√∂n ring runt vinnarnumret (endast om kupongen har vinnaren) */
.coupon-card-table .winner-on-coupon {
  outline: 2px solid #00ff88;
  border-radius: 999px;
  padding: 0 4px;
  box-shadow: 0 0 0 2px rgba(0, 255, 136, 0.18);
}


@media (max-width: 520px) {
  .coupon-card-table th, .coupon-card-table td {
    font-size: 12px;
    padding: 3px 0px;
  }

  /* Beh√•ll lite luft runt nummer s√• vinnar-ringen syns fint */
  .coupon-card-table .horse-number {
    padding: 0 4px;
    line-height: 18px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  /* Vinnar-ring √§ven p√• mobil */
  .coupon-card-table .horse-number.winner-hit {
    border-width: 2px;
    border-radius: 999px;
  }
}



/* ---- Jackpot kupong ---- */
#jackpot-panel .help {
  margin: 6px 0 12px 0;
  color: rgba(255, 255, 255, 0.75);
  font-size: 12px;
  line-height: 1.35;
}

.coupon-jackpot-hint {
  margin-top: 6px;
  font-size: 12px;
  color: rgba(255, 255, 255, 0.75);
}




/* -----------------------------
   STALLSNACK - snabb√∂verblick
------------------------------ */
.stallsnack-list{
  list-style: none;
  margin: 0;
  padding-left: 0;
}
.stallsnack-list li{
  margin: 0 0 6px 0;
}

.stallsnack-summary{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  margin: 6px 0 10px;
  padding: 6px 8px;
  border-radius: 0;
  font-size: 12px;
  line-height: 1;
}
.stallsnack-summary.positive{ background: rgba(20, 120, 60, 0.25); }
.stallsnack-summary.negative{ background: rgba(160, 25, 25, 0.25); }
.stallsnack-summary.neutral{ background: rgba(255,255,255,0.06); }

.stallsnack-tag{
  padding: 4px 6px;
  border-radius: 0;
  background: rgba(0,0,0,0.22);
  color: #fff;
  white-space: nowrap;
}

.stallsnack-source{
  text-align: right;
  font-size: 11px;
  margin-top: 6px;
}
.stallsnack-source a{
  color:#fff;
  opacity:0.9;
  text-decoration: underline;
}


/* ===============================
   B√§sta raden (f√∂rslag)
   =============================== */
.coupon-suggestions .best-row-suggestion{
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 10px;
  padding: 10px;
  margin-bottom: 10px;
  background: rgba(0,0,0,0.14);
}
.best-row-metrics{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  font-size: 12px;
  opacity: 0.92;
  margin-top: 6px;
}
.best-row-actions{
  display:flex;
  gap:8px;
  margin-top: 10px;
}
.best-row-details{
  margin-top: 8px;
  font-size: 13px;
  line-height: 1.35;
}
.best-row-details summary{
  cursor:pointer;
}


/* ===========================
   Simulering modal (ovalbana)
   =========================== */
.sim-overlay{
  position:fixed;
  inset:0;
  background: rgba(0,0,0,.55);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index: 9999;
  padding: 16px;
}
.sim-modal{
  width: min(1200px, 100%);
  max-height: min(780px, 100%);
  background: rgba(10,14,25,.96);
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 18px;
  box-shadow: 0 18px 60px rgba(0,0,0,.55);
  overflow: hidden; /* inga scrollbars */
  display:flex;
  flex-direction:column;
}
.sim-header{
  padding: 14px 16px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  border-bottom: 1px solid rgba(255,255,255,.08);
}
.sim-title{ font-size: 18px; font-weight: 900; }
.sim-subtitle{ font-size: 12px; opacity:.8; margin-top:2px; }
.sim-close{
  width: 34px;
  height: 34px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color:#fff;
  cursor:pointer;
}
.sim-close:hover{ background: rgba(255,255,255,.10); }

.sim-body{

  display:grid;
  grid-template-columns: 420px 1fr;
  gap: 14px;
  padding: 14px;
  min-height: 0;
  flex: 1;
}
@media (max-width: 980px){
  .sim-body{
 grid-template-columns: 1fr; }
}

.sim-left, .sim-right{ min-height:0; overflow:hidden; }
.sim-inputs{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
}
.sim-field span{ display:block; font-size: 12px; opacity:.8; margin-bottom:6px; }
.sim-field input{
  width:100%;
  padding: 10px 10px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
  color:#fff;
  outline:none;
}
.sim-actions{ display:flex; gap: 8px; margin-top: 10px; }
.sim-tabs{ display:flex; gap: 8px; margin-top: 12px; }
.sim-tab{
  flex: 1;
  padding: 10px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
  color:#fff;
  cursor:pointer;
  font-weight: 800;
}
.sim-tab.active{ background: rgba(255,255,255,.12); }

.sim-section-title{ font-weight: 900; font-size: 13px; opacity:.9; margin-top: 4px; }
.sim-top3 .row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding: 9px 10px;
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 12px;
  background: rgba(255,255,255,.03);
  margin-top: 8px;
}
.sim-top3 .left{ display:flex; align-items:center; gap: 8px; min-width: 0; }
.sim-pill{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width: 30px;
  height: 22px;
  border-radius: 999px;
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.10);
  font-weight: 900;
  font-size: 12px;
}
.sim-log{
  white-space: pre-wrap;
  padding: 10px 10px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(255,255,255,.03);
  margin-top: 8px;
  font-size: 12px;
  line-height: 1.35;
  max-height: 130px;
  overflow: hidden; /* ingen scroll */
  display: -webkit-box;
  -webkit-line-clamp: 7;
  -webkit-box-orient: vertical;
}

.sim-history-wrap{ margin-top: 10px; }
.sim-history-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.sim-history{ display:flex; flex-wrap:wrap; gap:6px; }
.sim-win-chip{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  font-weight:900;
  font-size: 12px;
}
.sim-history-meta{ margin-top:6px; opacity:.75; font-size:12px; }

/* Alla avdelningar ‚Äì kompakt grid (ingen scroll) */
.sim-all-results{
  display:grid;
  grid-template-columns: 1fr;
  gap: 8px;
  margin-top: 8px;
}
.sim-all-card{
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 14px;
  background: rgba(255,255,255,.03);
  padding: 10px 10px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 8px;
}
.sim-all-left{ min-width: 0; }
.sim-all-title{ font-weight: 900; }
.sim-all-sub{ font-size: 12px; opacity:.8; margin-top:2px; }
.sim-all-right{ display:flex; align-items:center; gap: 8px; }
.sim-all-win{
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  font-weight: 900;
  font-size: 12px;
}
.sim-footnote{
  padding: 10px 14px;
  border-top: 1px solid rgba(255,255,255,.08);
  font-size: 12px;
  opacity: .75;
}

/* Canvas */
.sim-canvas-wrap{
  width:100%;
  height:100%;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.08);
  background: radial-gradient(ellipse at center, rgba(255,255,255,.06), rgba(255,255,255,.02));
  overflow:hidden;
}
#sim-canvas{
  width:100%;
  height:100%;
  display:block;
}

/* ta bort scrollbars om n√•gon √§nd√• blir */
.sim-modal, .sim-modal * { scrollbar-width: none; }
.sim-modal::-webkit-scrollbar, .sim-modal *::-webkit-scrollbar { display:none; }


/* -------- Analys (index.html) -------- */
.analysis-list{ display:flex; flex-direction:column; gap:10px; }
.analysis-card{
  border:1px solid rgba(255,255,255,.12);
  border-radius:14px;
  padding:12px;
  background: rgba(255,255,255,.03);
}
.analysis-top{ display:flex; justify-content:space-between; gap:12px; align-items:flex-start; }
.analysis-title{ font-weight:800; }
.analysis-actions{ display:flex; gap:8px; }
.analysis-meta{ margin-top:6px; opacity:.85; font-size:12px; display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
.analysis-tag{
  display:inline-flex; gap:6px; align-items:center;
  padding:3px 10px; border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  font-size:12px;
}
.analysis-group,.analysis-date{ opacity:.8; }
.analysis-snippet{ margin-top:8px; font-size:12px; opacity:.78; }


/* Modal overlay (Skapa analys / Kombinera kuponger etc) */

.modal-overlay{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.55);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 18px;
  z-index: 9999;
}
.modal{
  width: min(1100px, 96vw);
  max-height: 90vh;
  overflow: auto;
  background: rgba(12, 17, 24, .92);
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 18px;
  box-shadow: 0 20px 60px rgba(0,0,0,.55);
}
.modal-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding: 14px 16px;
  border-bottom: 1px solid rgba(255,255,255,.08);
}
.modal-body{
  padding: 14px 16px 18px;
}

/* =====================
   Kupongmeny (sidemeny)
   Desktop: vertikal v√§nster
   Mobil: hopf√§llbar drawer
   ===================== */

.coupon-layout {
  display: flex;
  gap: 12px;
  align-items: flex-start;
}

.coupon-main {
  flex: 1;
  min-width: 0;
}

.coupon-menu-toggle {
  display: none;
}

.coupon-sidemenu {
  flex: 0 0 255px;
  width: 255px;
  position: sticky;
  top: 12px;
  background: #081f2b;
  border: 1px solid rgba(153, 88, 183, 0.35);
  border-radius: 12px;
  padding: 10px;
  box-sizing: border-box;
}

.coupon-sidemenu-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  margin-bottom: 10px;
}

.coupon-sidemenu-title {
  font-weight: 700;
  opacity: 0.9;
}

.coupon-menu-close {
  display: none;
}

.coupon-sidemenu-actions {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.coupon-sidemenu .coupon-idea-actions,
.coupon-sidemenu .coupon-new-actions {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.coupon-sidemenu .btn.small {
  justify-content: flex-start;
  width: 100%;
}

.coupon-sidemenu-backdrop {
  display: none;
}

@media (max-width: 900px) {
  .coupon-layout {
    display: block;
  }

  .coupon-menu-toggle {
    display: inline-flex;
    align-items: center;
    gap: 6px;
  }

  .coupon-menu-close {
    display: inline-flex;
  }

  .coupon-sidemenu {
    position: fixed;
    top: 0;
    left: 0;
    height: 100vh;
    width: 285px;
    max-width: 85vw;
    z-index: 4000;
    transform: translateX(-110%);
    transition: transform 180ms ease;
    border-radius: 0 14px 14px 0;
  }

  body.coupon-menu-open .coupon-sidemenu {
    transform: translateX(0);
  }

  .coupon-sidemenu-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.55);
    z-index: 3990;
    display: none;
  }

  body.coupon-menu-open .coupon-sidemenu-backdrop {
    display: block;
  }
}

/* =====================
   Inklistrade kuponger
   ===================== */

.coupon-card.pasted-coupon-card {
  background: #0c2836;
  border-radius: 10px;
  padding: 8px 10px;
  border: 1px solid #9958b7;
  width: 215px;
  position: relative;
  box-sizing: border-box;
}

/* =====================
   Inte spelad kupong-l√§ge
   ===================== */

body.notplayed-mode-active .coupon-card.selectable {
  outline: 1px solid rgba(153, 88, 183, 0.6);
  cursor: pointer;
}

body.notplayed-mode-active .coupon-card.selected-for-notplayed {
  outline: 2px solid #9958b7;
  box-shadow: 0 0 0 3px rgba(153, 88, 183, 0.25);
}

.notplayed-exit-floating {
  position: fixed;
  right: 14px;
  bottom: 14px;
  z-index: 5000;
  border: 1px solid rgba(153, 88, 183, 0.6);
  background: rgba(12, 40, 54, 0.95);
}


/* ===========================
   Sim TV-layout (bild 2-look)
   =========================== */
.sim-tv-modal{
  width: min(1200px, 96vw);
  height: min(760px, 92vh);
  padding: 0;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.sim-tv-topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  padding: 10px 12px;
  background: rgba(18,22,30,.92);
  border-bottom: 1px solid rgba(255,255,255,.08);
}
.sim-tv-title{ font-size: 18px; font-weight: 900; }
.sim-tv-subtitle{ font-size: 12px; opacity: .8; margin-top: 2px; }
.sim-div-tabs{
  display:flex;
  gap: 8px;
  flex: 1;
  justify-content: center;
  flex-wrap: wrap;
}
.sim-div-tab{
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.85);
  padding: 8px 10px;
  border-radius: 10px;
  cursor: pointer;
  user-select: none;
}
.sim-div-tab.active{
  background: rgba(90,140,255,.25);
  border-color: rgba(90,140,255,.45);
}
.sim-tv-body{
  position: relative;
  flex: 1;
  background: rgba(8,10,14,.9);
  display: flex;
  flex-direction: column;
}

.sim-tv-one{
  flex: 1;
  min-height: 0;
}

.sim-tv-stage{
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 12px;
  box-sizing: border-box;
}

.sim-minimap-row{
  flex: 0 0 auto;
  margin-bottom: 2px;
}

.sim-tv-canvas-wrap{
  position: relative;
  width: 100%;
  flex: 1;
  min-height: 0;
}

.sim-tv-canvas-wrap #sim-canvas{
  width: 100%;
  height: 100%;
  display: block;
}

.sim-tv-all{
  padding: 14px;
}
.sim-all-header{
  display:flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 12px;
}
.sim-all-title{ font-weight: 900; }
.sim-all-hint{ opacity: .75; font-size: 12px; }

.sim-tv-bottom{
  display: grid;
  grid-template-columns: 1.15fr 1.7fr 0.8fr;
  gap: 12px;
  align-items: center;
  padding: 12px;
  background: rgba(18,22,30,.92);
  border-top: 1px solid rgba(255,255,255,.08);
}

.sim-controls{ display:flex; gap: 8px; flex-wrap: wrap; align-items:center; }
.sim-bottom-caption{ font-weight: 900; opacity: .9; margin-bottom: 6px; }
.sim-log-compact{
  max-height: 88px;
  overflow: auto;
  margin-top: 8px;
  border-radius: 12px;
  background: rgba(0,0,0,.25);
  border: 1px solid rgba(255,255,255,.08);
  padding: 10px;
  font-size: 12px;
}

.sim-stats-mini{
  display:flex;
  flex-direction: column;
  gap: 6px;
}
.sim-stat-row{
  display:flex;
  justify-content: space-between;
  gap: 12px;
  padding: 8px 10px;
  border-radius: 12px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.08);
}
.sim-stat-row .k{ opacity: .75; font-size: 12px; }
.sim-stat-row .v{ font-weight: 900; }

.sim-footnote-compact{
  margin-top: 10px;
  opacity: .7;
  font-size: 12px;
}

.sim-settings-drawer{
  position: absolute;
  right: 12px;
  top: 12px;
  width: min(380px, 92vw);
  max-height: calc(100% - 24px);
  overflow: auto;
  border-radius: 16px;
  background: rgba(0,0,0,.38);
  border: 1px solid rgba(255,255,255,.16);
  backdrop-filter: blur(8px);
  box-shadow: 0 18px 45px rgba(0,0,0,.55);
  z-index: 10;
}
.sim-settings-inner{ padding: 12px; }
.sim-inputs-grid{ display:grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 10px; }

/* Side-cam i mitten */
.sim-sidecam{
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%,-50%);
  width: min(620px, 90%);
  padding: 10px;
  border-radius: 16px;
  background: rgba(0,0,0,.35);
  border: 1px solid rgba(255,255,255,.16);
  backdrop-filter: blur(6px);
  box-shadow: 0 18px 45px rgba(0,0,0,.55);
  z-index: 8;
}
.sim-sidecam-head{
  display:flex;
  justify-content: center;
  margin-bottom: 6px;
}
.sim-sidecam-label{
  font-weight: 900;
  letter-spacing: .2px;
  opacity: .92;
}
#sim-sidecam-canvas{
  width: 100%;
  height: 220px;
  display: block;
  border-radius: 12px;
}

/* Winner overlay */
.sim-winner{
  position:absolute;
  left: 50%;
  top: 40%;
  transform: translate(-50%,-50%);
  text-align:center;
  pointer-events:none;
  z-index: 9;
}
.sim-winner-banner{
  display:inline-block;
  padding: 10px 18px;
  border-radius: 16px;
  background: rgba(255,255,255,.92);
  color: rgba(10,12,16,.95);
  font-weight: 900;
  letter-spacing: .6px;
  box-shadow: 0 12px 32px rgba(0,0,0,.55);
}
.sim-winner-card{
  margin-top: 10px;
  padding: 10px 14px;
  border-radius: 16px;
  background: rgba(0,0,0,.35);
  border: 1px solid rgba(255,255,255,.14);
  backdrop-filter: blur(6px);
}
.sim-winner-num{ font-size: 36px; font-weight: 900; }
.sim-winner-name{ opacity: .85; font-weight: 800; }

@media (max-width: 900px){
  .sim-tv-bottom{
    grid-template-columns: 1fr;
  }
  .sim-inputs-grid{
    grid-template-columns: 1fr;
  }
}


/* Mini-karta (ovanf√∂r TV-vyn) */
.sim-minimap{
  position: relative;
  width: min(860px, 100%);
  height: 220px;
  margin: 0 auto;
  border-radius: 14px;
  background: rgba(0,0,0,.22);
  border: 1px solid rgba(255,255,255,.14);
  box-shadow: 0 16px 40px rgba(0,0,0,.45);
  backdrop-filter: blur(6px);
  overflow: hidden;
  pointer-events: none;
}
.sim-minimap-label{
  position: absolute;
  left: 10px;
  top: 8px;
  font-size: 12px;
  font-weight: 800;
  opacity: .85;
  letter-spacing: .2px;
  z-index: 2;
}
#sim-mini-canvas{
  width: 100%;
  height: 100%;
  display: block;
}

@media (max-width: 900px){
  .sim-minimap{
    height: 180px;
  }
}


.sim-pos-label{ font-size:12px; font-weight:800; opacity:.85; margin-bottom:6px; }
.sim-pos-5to1{ display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
.sim-pos-chip .n{ font-weight:900; }

.sim-pos-chip{ display:inline-flex; align-items:center; gap:6px; padding:4px 8px; border-radius:999px; background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.10); }
.sim-pos-chip .n{ font-weight:900; }
.sim-pos-chip .name{ opacity:.85; font-weight:700; font-size:12px; max-width:160px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

/* ===== Sim embed (under h√§stinfo) ===== */
.sim-overlay.sim-embed{
  position: relative;
  inset: auto;
  background: transparent;
  padding: 0;
  z-index: 1;
  width: 100%;
  display: block;
}
.sim-embed-host{ margin-top: 14px; }
.sim-embed-head{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin: 8px 0; }
.sim-embed-head h2{ margin:0; font-size: 18px; }
.sim-overlay.sim-embed[hidden]{ display:none !important; }
.sim-overlay.sim-embed .sim-modal{ width: 100%; max-height: none; }
.sim-overlay.sim-embed .sim-tv-modal{ height: min(860px, 92vh); }

/* (tidigare extra override f√∂r minimap borttagen) */
